# Dotfiles

Setup and configuration for a terminal based developer workflow.

I have this repository setup in `$HOME`, and I have it setup as the location for all my user specific config:

```bash
# from .zshrc
export XDG_CONFIG_HOME=~/dotfiles
```

## Bash, Zsh & Git

Setup `.bashrc`, `.zshrc` & `.gitconfig` in `$HOME`:

```shell-session
$ make dotfiles
```

This appends to your `rc` files -- beware running this multiple times, as you will end up sourcing the `rc` files multiple times.

This is destructive to your Git config - your `$HOME/.{gitconfig,gitignore}` will be overwritten.

## Linux

Setup an Linux machine (works on Ubuntu):

```shell-session
$ make setup-linux OS=linux
```

## MacOS

Setup an MacOS machine:

```shell-session
$ make setup-macos OS=macoS
```

## Global Python Virtual Env

Setup a global Python installation in a pyenv virtual environment - requires `pyenv`:

```shell-session
$ make python
```

## Neovim

Neovim setup is in [nvim](https://github.com/ADGEfficiency/dotfiles/tree/master/nvim) -- it's a Lua based setup.

To use my Neovim setup, you would put this folder into `~/.config` (or wherever `$XDG_CONFIG_HOME` points too):

```bash
cp -r nvim ~/.config/
```

## Random Neovim Notes

Neovim can be a bit tricky (especially since the loss of LTS for Null-LS) - my notes on my current Neovim setup are below.

I used to use Null-LS - I now use `efm` to manage linters and formatters.

### `efm-langserver`

[efm-langserver](https://github.com/mattn/efm-langserver)

`efm-langserver` is setup as a language server using `lspconfig` in [lsp.lua](https://github.com/ADGEfficiency/dotfiles/blob/master/nvim/lua/adam/lsp.lua).  

Tools (formatters, linters) are added to the `efm-langserver` Lua config in `lspconfig.`

[Tools can have the following properties](https://github.com/mattn/efm-langserver/blob/master/schema.md#autogenerated_heading_4):

- `formatCommand`,
- `formatStdin`,
- `hoverCommand`,
- `hoverStdin`,
- `hoverType`,
- `lintCommand`,
- `lintFormats`,
- `lintStdin`,
- `completionCommand`,
- `completionStdin`,

### Mason

I use Mason to install LSPs. With Mason I use [mason-lspconfig](https://github.com/williamboman/mason-lspconfig.nvim#available-lsp-servers).

I don't use Mason for `efm` -- install `efm-langserver` separately:

```shell-session
$ go install github.com/mattn/efm-langserver@latest
#  or
$ brew install efm-langserver
```

## Lists of Linting & Formatting Tools

### [efm-langserver](https://github.com/mattn/efm-langserver)

See the `config.yml` example for available tools.

### [efmls-configs-nvim](https://github.com/creativenull/efmls-configs-nvim/blob/main/supported-linters-and-formatters.md)

I don't use this package, but the list of tools and configs is useful.

### [Null LS](https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md)

I don't use this package -- I used to use Null LS -- their list of tools is still useful.
